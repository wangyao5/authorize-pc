<div class="row"><h2 class="text-align-center">角色管理<h2></div>

<div class="default-layout">
  <span>用户</span><input type="text" placeholder="用户查询" ng-model='searchText' ng-init="searchText=''">
    <button type="button" class="btn btn-default" ng-click="search(searchText)">
        搜索
    </button>
</div>

<!-- 列表 -->
<div class="panel panel-default default-layout">
  <div class="panel-heading">
    <h3 class="panel-title">角色列表</h3>
  </div>
  <div class="panel-body">
    <div>
        <button type="button" class="btn btn-default" ng-click="addUser()">添加用户</button>
    </div>
  </div>

  <!-- Table -->
  <table class="table">
    <thead>
      <tr>
        <td>员工编号</td>
        <td>账号</td>
        <td>姓名</td>
        <td>权限</td>
        <td>操作</td>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="item in userArray track by $index">
        <td>
          <span ng-if="!item.edit">{{item.uno}}</span>
          <input ng-if="item.edit" ng-change="edited($index)" type="input" ng-model="item.uno" style="border: 0;width:100%;">
        </td>
        <td>
          <span ng-if="!item.edit">{{item.uid}}</span>
          <input ng-if="item.edit" ng-change="edited($index)" type="input" ng-model="item.uid" style="border: 0;width:100%;">
        </td>
        <td>
          <span ng-if="!item.edit">{{item.name}}</span>
          <input ng-if="item.edit" ng-change="edited($index)" type="input" ng-model="item.name" style="border: 0;width:100%;">
        </td>
        <td>

          <span ng-if="!item.edit" ng-bind="['财务查询','普通VP', '总裁办主任', '运维人员'][item.permission]"></span>
          <select ng-model="item.permission" ng-if="item.edit">
            <option value="0" selected = "selected">财务查询</option>
            <option value="1">普通VP</option>
            <option value="2">总裁办主任</option>
            <option value="3">运维人员</option>
          </select>
        </td>
        <td><a ng-click="del($index)">[删除]</a><a ng-if="!(item.id>0)" ng-click="save($index)">[保存]</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>